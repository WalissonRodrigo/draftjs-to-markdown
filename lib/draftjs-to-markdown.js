!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.draftjsToMarkdown=n():t.draftjsToMarkdown=n()}(window,function(){return r={},o.m=e=[function(t,n,e){t.exports=e(1)},function(t,n,e){"use strict";function f(n,e){n&&Object.keys(n).forEach(function(t){!{}.hasOwnProperty.call(n,t)||e(t,n[t])})}function l(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,r)}return e}function s(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function O(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.r(n),e.d(n,"sameStyleAsPrevious",function(){return h}),e.d(n,"getStylesAtOffset",function(){return g}),e.d(n,"addInlineStyleMarkdown",function(){return E}),e.d(n,"addStylePropertyMarkdown",function(){return I}),e.d(n,"trimLeadingZeros",function(){return S}),e.d(n,"trimTrailingZeros",function(){return L}),e.d(n,"getBlockContentMarkdown",function(){return C}),e.d(n,"getBlockStyle",function(){return b}),e.d(n,"default",function(){return r});var y={unstyled:"","header-one":"# ","header-two":"## ","header-three":"### ","header-four":"#### ","header-five":"##### ","header-six":"###### ","unordered-list-item":"- ","ordered-list-item":"1. ",blockquote:"> ",code:"    "};function d(t,n,e,r){var o=t[n];if("function"==typeof r){var c=r(o,e);if(c)return c}return"MENTION"===o.type?"[".concat(e,"](").concat(o.data.url,")"):"LINK"===o.type?"[".concat(e,"](").concat(o.data.url,")"):"IMAGE"===o.type?"![".concat(o.data.alt||"","](").concat(o.data.src,")"):"EMBEDDED_LINK"===o.type?'<iframe width="'.concat(o.data.width,'" height="').concat(o.data.height,'" src="').concat(o.data.src,'" frameBorder="0" allowFullScreen />'):e}function p(t,n){var e=[],r=0,o=t.entityRanges.map(function(t){return{offset:t.offset,length:t.length,key:t.key,type:"ENTITY"}});return(o=(o=o.concat(function(t,n){var e=[];if(n)for(var r=0,o=0,c=t,a=n.trigger||"#",u=n.separator||" ";0<c.length&&0<=o;)if(c[0]===a?(r=o=0,c=c.substr(a.length)):0<=(o=c.indexOf(u+a))&&(c=c.substr(o+(u+a).length),r+=o+u.length),0<=o){var i=0<=c.indexOf(u)?c.indexOf(u):c.length,f=c.substr(0,i);f&&0<f.length&&e.push({offset:r,length:f.length+a.length,type:"HASHTAG"}),r+=a.length}return e}(t.text,n))).sort(function(t,n){return t.offset-n.offset})).forEach(function(t){t.offset>r&&e.push({start:r,end:t.offset-1}),e.push({start:t.offset,end:t.offset+t.length,entityKey:t.key,type:t.type}),r=t.offset+t.length}),r<t.text.length&&e.push({start:r,end:t.text.length}),e}function h(n,t,e){var r=!0;return 0<e&&e<n.length?t.forEach(function(t){r=r&&n[t][e]===n[t][e-1]}):r=!1,r}function g(t,n){var e={};return t.COLOR[n]&&(e.COLOR=t.COLOR[n]),t.BGCOLOR[n]&&(e.BGCOLOR=t.BGCOLOR[n]),t.FONTSIZE[n]&&(e.FONTSIZE=t.FONTSIZE[n]),t.FONTFAMILY[n]&&(e.FONTFAMILY=t.FONTFAMILY[n]),t.SUBSCRIPT[n]&&(e.SUBSCRIPT=!0),t.SUPERSCRIPT[n]&&(e.SUPERSCRIPT=!0),t.CODE[n]&&(e.CODE=!0),t.STRIKETHROUGH[n]&&(e.STRIKETHROUGH=!0),t.UNDERLINE[n]&&(e.UNDERLINE=!0),t.ITALIC[n]&&(e.ITALIC=!0),t.BOLD[n]&&(e.BOLD=!0),e}function T(t,n,e,r){var o,c,a,u,i=[],f=t.text;if(0<f.length)for(var l,s=(c=(o=t).text,a=o.inlineStyleRanges,u={COLOR:new Array(c.length),BGCOLOR:new Array(c.length),FONTSIZE:new Array(c.length),FONTFAMILY:new Array(c.length),SUBSCRIPT:new Array(c.length),SUPERSCRIPT:new Array(c.length),CODE:new Array(c.length),STRIKETHROUGH:new Array(c.length),UNDERLINE:new Array(c.length),ITALIC:new Array(c.length),BOLD:new Array(c.length),length:c.length},a&&0<a.length&&a.forEach(function(t){for(var n=t.offset,e=n+t.length,r=n;r<e;r+=1)0===t.style.indexOf("color-")?u.COLOR[r]=t.style.substring(6):0===t.style.indexOf("bgcolor-")?u.BGCOLOR[r]=t.style.substring(8):0===t.style.indexOf("fontsize-")?u.FONTSIZE[r]=t.style.substring(9):0===t.style.indexOf("fontfamily-")?u.FONTFAMILY[r]=t.style.substring(11):u[t.style]&&(u[t.style][r]=!0)}),u),O=e;O<r;O+=1)O!==e&&h(s,n,O)?(l.text.push(f[O]),l.end=O+1):(l={styles:g(s,O),text:[f[O]],start:O,end:O+1},i.push(l));return i}function E(t,n){return t.BOLD?"".concat(t.BOLD).concat(n).concat(t.BOLD):t.ITALIC?"".concat(t.ITALIC).concat(n).concat(t.ITALIC):t.UNDERLINE?"".concat(t.UNDERLINE).concat(n).concat(t.UNDERLINE):t.STRIKETHROUGH?"".concat(t.STRIKETHROUGH).concat(n).concat(t.STRIKETHROUGH):t.CODE?"".concat(t.CODE).concat(n).concat(t.CODE):t["CODE-BLOCK"]?"".concat(t["CODE-BLOCK"]).concat(n).concat(t["CODE-BLOCK"]):t.BLOCKQUOTE?"".concat(t.BLOCKQUOTE).concat(n).concat(t.BLOCKQUOTE):t.SUPERSCRIPT?"".concat(t.SUPERSCRIPT).concat(n).concat(t.SUPERSCRIPT):t.SUBSCRIPT?"".concat(t.SUBSCRIPT).concat(n).concat(t.SUBSCRIPT):n}function I(t){var n,e=t.styles,r=t.text,o=(n=r)&&0<n.length?n.map(function(t){switch(t){case"\n":return"\\s\\s\n";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return t}}).join(""):"";if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var c='style="';return e.COLOR&&(c+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(c+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(c+="font-size: ".concat(e.FONTSIZE,"px;")),e.FONTFAMILY&&(c+="font-family: ".concat(e.FONTFAMILY,";")),"<span ".concat(c+='"',">").concat(o,"</span>")}return o}function R(c,t,n,e,r){var o=[],a=T(c,[{BOLD:"**"},{ITALIC:"*"},{UNDERLINE:"__"},{STRIKETHROUGH:"~~"},{CODE:"`"},{"CODE-BLOCK":"```"},{BLOCKQUOTE:">"},{SUPERSCRIPT:"<sup>"},{SUBSCRIPT:"<sub>"}].concat(O(r)),n.start,n.end),u="";a.forEach(function(t){var n,e,r=T(c,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],t.start,t.end),o="";r.forEach(function(t){o+=I(t)}),u+=(n=t.styles,e=o,f(n,function(t,n){e=E(t,e)}),e)}),o.push(u);var i=o.join("");return"ENTITY"===n.type?void 0!==n.entityKey&&null!==n.entityKey&&(i=d(t,n.entityKey,i,e)):"HASHTAG"===n.type&&(i="[".concat(i,"](").concat(i,")")),i}function S(t){if(t){for(var n=t,e=0;e<n.length&&" "===t[e];e+=1)n=n.replace(" ","&nbsp;");return n}return t}function L(t){if(t){for(var n=t,e=n.length-1;0<=e&&" "===n[e];--e)n="".concat(n.substring(0,e),"&nbsp;").concat(n.substring(e+1));return n}return t}function C(r,o,t,c,a){if(0<(n=r).entityRanges.length&&(null==(e=n.text)||0===e.length||0===e.trim().length))return d(o,r.entityRanges[0].key,void 0,c);var n,e,u=[],i=p(r,t);return i.forEach(function(t,n){var e=R(r,o,t,c,a);0===n&&(e=S(e)),n===i.length-1&&(e=L(e)),u.push(e)}),u.join("")}function b(t){var e="";return f(t,function(t,n){e+="".concat(t,":").concat(n,";")}),e}function v(t,n,e,r,o,c){var a=[];a.push(n[t.type]);var u,i,f,l=C(t,e,r,o,c.customStyleTransform);return t.data&&(u=t.data,i=l,l=(f=b(u))?'<span style="'.concat(f,'">').concat(i,"</span>"):i),a.push(l),a.push(c&&c.emptyLineBeforeBlock?"\n\n":"\n"),a.join("")}function r(t,r,o,c){var a=[];if(t){var u=function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?l(Object(e),!0).forEach(function(t){s(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}({},y,{},c&&c.blockTypesMapping&&c.blockTypesMapping),n=t.blocks,i=t.entityMap;n&&0<n.length&&n.forEach(function(t){var n,e=v(t,u,i,r,o,c);"unordered-list-item"!==(n=t.type)&&"ordered-list-item"!==n||(e=function(t){for(var n="",e=0;e<4*t;e+=1)n+=" ";return n}(t.depth)+e),a.push(e)})}return a.join("")}}],o.c=r,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(n,t){if(1&t&&(n=o(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)o.d(e,r,function(t){return n[t]}.bind(null,r));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=0);function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}var e,r});